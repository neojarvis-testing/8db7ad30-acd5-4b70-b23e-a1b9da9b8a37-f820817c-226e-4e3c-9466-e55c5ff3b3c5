<div class="form-container">
  <h2 class="form-title">Conference Event Booking Form</h2>
  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
    <!-- Gender -->
    <div class="form-group">
      <label for="gender">Gender*</label>
      <select id="gender" formControlName="gender" class="form-control">
        <option value="" disabled selected>Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
      <div *ngIf="submitted && f.gender.errors" class="error">
        <span *ngIf="f.gender.errors.required">Gender is required.</span>
      </div>
    </div>

    <!-- Age -->
    <div class="form-group">
      <label for="age">Age*</label>
      <input type="number" id="age" formControlName="age" class="form-control" min="1" />
      <div *ngIf="submitted && f.age.errors" class="error">
        <span *ngIf="f.age.errors.required">Age is required.</span>
        <span *ngIf="f.age.errors.min">Age must be at least 1.</span>
      </div>
    </div>

    <!-- Occupation -->
    <div class="form-group">
      <label for="occupation">Occupation*</label>
      <input type="text" id="occupation" formControlName="occupation" class="form-control" />
      <div *ngIf="submitted && f.occupation.errors" class="error">
        <span *ngIf="f.occupation.errors.required">Occupation is required.</span>
      </div>
    </div>

    <!-- City -->
    <div class="form-group">
      <label for="city">City*</label>
      <input type="text" id="city" formControlName="city" class="form-control" />
      <div *ngIf="submitted && f.city.errors" class="error">
        <span *ngIf="f.city.errors.required">City is required.</span>
      </div>
    </div>

    <!-- Proof (Image File Upload) -->
    <div class="form-group">
      <label for="proof">Proof* (Image, max 500KB)</label>
      <input type="file" id="proof" accept="image/*" (change)="onProofFileChange($event)" class="form-control" />
      <div *ngIf="proofFileName" style="margin-top: 4px; font-size: 13px;">
        Selected file: {{ proofFileName }}
      </div>
      <div *ngIf="submitted && f.proof.errors" class="error">
        <span *ngIf="f.proof.errors.required">Proof is required.</span>
      </div>
      <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
    </div>

    <!-- Additional Notes -->
    <div class="form-group">
      <label for="additionalNotes">Additional Details - optional</label>
      <input type="text" id="additionalNotes" formControlName="additionalNotes" class="form-control" />
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn-shared btn-green btn-block">Submit</button>
  </form>
</div>

<!-- Success Popup -->
<div class="popup" *ngIf="showSuccessPopup">
  <div class="popup-content">
    <p>Booked successfully!</p>
    <button class="btn-shared btn-green btn-block" (click)="closePopup()">Ok</button>
  </div>
</div>