<div class="register-container">
    <!-- Page Title -->
    <h1>Registration</h1>

    <!-- Registration Form -->
    <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
        <!-- Display overall error message -->
        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>

        <!-- Username Field -->
        <div class="form-group">
            <label for="username">
                Username<span class="required">*</span>
            </label>
            <input type="text" id="username" name="username" placeholder="Enter username" [(ngModel)]="username"
                #usernameInput="ngModel" required minlength="3" />
            <div class="error" *ngIf="usernameInput.invalid && usernameInput.touched">
                <small *ngIf="usernameInput.errors?.required">Username is required.</small>
                <small *ngIf="usernameInput.errors?.minlength">
                    Username must be at least 3 characters.
                </small>
            </div>
        </div>

        <!-- Email Field -->
        <div class="form-group">
            <label for="email">
                Email<span class="required">*</span>
            </label>
            <input type="email" id="email" name="email" placeholder="Enter email" [(ngModel)]="email"
                #emailInput="ngModel" required email />
            <div class="error" *ngIf="emailInput.invalid && emailInput.touched">
                <small *ngIf="emailInput.errors?.required">Email is required.</small>
                <small *ngIf="emailInput.errors?.email">Enter a valid email.</small>
            </div>
        </div>

        <!-- Password Field -->
        <div class="form-group">
            <label for="password">
                Password<span class="required">*</span>
            </label>
            <input type="password" id="password" name="password" placeholder="Enter password" [(ngModel)]="password"
                #passwordInput="ngModel" required minlength="6" />
            <div class="error" *ngIf="passwordInput.invalid && passwordInput.touched">
                <small *ngIf="passwordInput.errors?.required">Password is required.</small>
                <small *ngIf="passwordInput.errors?.minlength">
                    Password must be at least 6 characters.
                </small>
            </div>
        </div>

        <!-- Confirm Password Field -->
        <div class="form-group">
            <label for="confirmPassword">
                Confirm Password<span class="required">*</span>
            </label>
            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm password"
                [(ngModel)]="confirmPassword" #confirmPasswordInput="ngModel" required minlength="6" />
            <div class="error" *ngIf="confirmPasswordInput.invalid && confirmPasswordInput.touched">
                <small *ngIf="confirmPasswordInput.errors?.required">
                    Confirm password is required.
                </small>
                <small *ngIf="confirmPasswordInput.errors?.minlength">
                    Password must be at least 6 characters.
                </small>
            </div>
            <div class="error" *ngIf="passwordMismatch && confirmPasswordInput.touched">
                <small>Passwords do not match.</small>
            </div>
        </div>

        <!-- Mobile Number Field -->
        <div class="form-group">
            <label for="mobile">
                Mobile Number<span class="required">*</span>
            </label>
            <input type="tel" id="mobile" name="mobile" placeholder="Enter mobile number" [(ngModel)]="mobile"
                #mobileInput="ngModel" required pattern="[0-9]{10}" />
            <div class="error" *ngIf="mobileInput.invalid && mobileInput.touched">
                <small *ngIf="mobileInput.errors?.required">
                    Mobile number is required.
                </small>
                <small *ngIf="mobileInput.errors?.pattern">
                    Enter a valid 10-digit mobile number.
                </small>
            </div>
        </div>

        <!-- Role Field -->
        <div class="form-group">
            <label for="role">
                Role<span class="required">*</span>
            </label>
            <select id="role" name="role" [(ngModel)]="role" #roleInput="ngModel" required>
                <option value="">Select role</option>
                <option value="admin">ADMIN</option>
                <option value="user">User</option>
            </select>
            <div class="error" *ngIf="roleInput.invalid && roleInput.touched">
                <small *ngIf="roleInput.errors?.required">Role is required.</small>
            </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="register-button" [disabled]="registerForm.invalid || passwordMismatch">
            Register
        </button>
    </form>
</div>